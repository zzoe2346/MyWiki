---
created: 2025-07-09
---
커넥션 풀에 미리 생성해둘 커넥션 개수 지정하는 설정

**커넥션 풀 크기는 커넥션 풀 설정에서 가장 
중요**

풀에 5개의 커넥션을 가정하고 요청이 6개오면 마지막 요청은 풀에 커넥션이 반환될때까지 대기한다. 노는 커넥션을 유휴 커넥션이라함.

커넥션 풀 구현체마다 다르지만 일반적으로 최소 크기와 최대 크기 설정 가능함.
- 예를 들어 최소 10, 최대 20 으로 하면
- 동시에 들어오는 요청이 10개 이하면 10개 커넥션 유지
- 10개 초과시 커넥션풀의 커넥션 늘려서 요청처리 최대 20개까지 늘리기 가능
	- 이후 동시 요청이 20개 이하로 줄면 커넥션도 점차 줄어들도록 함

> 트래픽이 점진적이 아닌 급진적으로 급증하는 패턴을 보인다면 커넥션 풀의 최소크기를 최대 크기로 맞추는게 좋다. 급진적으로 늘때는 커넥션 생성 시간또한 성능 저하의 주요 원인이 될 수 있기때문.

## 커넥션풀 무턱대고 늘리면 안된다
- DB상태를 보고 늘려야됨
- DB Server의 CPU 사용률이 80%에 육박하는 상황에서 커넥션 풀 늘리면 부하가 더 커져서 쿼리 실행 시간이 증가할수있음.