---
tags: 
created: 2025-08-16
---
불변 == 읽기 전용 클래스


## 사이드 이펙트와 참조자
- 특정 인스턴스에 대한 참조는 여러 개가 될 수 있으며 이를 막을 수도 없음
	- 매개변수, 멀티스레딩 환경
- 모든 참조는 대상 인스턴스에 대한 읽기, 쓰기, 접근(Mutable)이 모두 허용
	- 참조자 및 메서드 통한 필드 값 변경을 제어할 수 있는 문법 없음
- 인스턴스에대한 무결성을 보장해야하는 구조에서 (논리적) 문제가 발생할 수 있음
## 불변 객체의 정의
- 모든 필드를 final 선언함으로써 상수화한 클래스 (무결성)
	- 필드 초깃값을 기술할 수 있는 부분 제외(생성자 또는 초깃값 정의)
- 필드 값을 변경해야 한다면 새로운 사본 인스턴스를 생성하면서 원하는 수정된 초기값을 기술해 반환하는 구조로 개발(원자성 보장)
	- 비효율적일 수 있으나 멀티스레딩 환경에서 장점 존재
- 대표적 불변 객체
	- String, Wrapper class
## 문자열 상수와 String 
- 문자열의 본질은 문자 배열이며 문자열은 인코딩 규칙에 영향을 받음
	- char\[], String
	- 문자 배열은 겹따온표를 이용한 리터럴 표기 가능
	- Java 9 이후 char\[]에서 byte\[] 로 변경
- String 클래스는 불변 클래스이며 논리적 의미로 기본 형식에 속하는 특성을 보임
	- 덧셈 연산의 결과로 임시 객체가 생기는 문제가 있음
	- 큰 문자열을 다룰 경우 효율이 더 떨어짐

문자열은 가변일 수 있는데 배열로 표현한다?


> 이번 섹션 3강 매우 내용이 좋다. 문자열끼리 연산의 오버헤드를 잘 설명해줌!


## 문자열 비교
- 상등 연산으로 두 String 클래스 인스턴스를 비교할 경우 심각한 논리적 문제가 있을 수 있다
	- 문자열 상수 풀
	- JVM이 클래스 로딩 시 미리 인스턴스 생성
- equals() 를 쓰거나 compareTo() 로 문자열 비교하는 것이 적절