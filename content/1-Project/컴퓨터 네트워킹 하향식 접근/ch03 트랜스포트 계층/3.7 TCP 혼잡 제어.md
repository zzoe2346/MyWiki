---
tags: 
created: 2025-08-20
---
77~

다시 돌아온 TCP! TCP의 혼잡 제어 메커니즘 알아보자.

IP 계층은 종단에게 아무런 직접적 피드백이 없으니 전통적인 TCP는 네트워크 지원 혼잡 제어보다는 **종단 간의 혼잡 제어**를 사용한다.
## 3.7.1 전통적인 TCP 혼잡 제어
- TCP 취한 접근 방식은 네트웍 혼잡에 따라 연결에 트래픽이 보내는 전송률을 각 송신자가 제한하도록 하는 것
	- 혼잡이 없다 판단하면, 송신자는 송신률 높인다.
- 의문이 떠올라야 되는데 3가지다!
	- 1. TCP 송신자는 어떻게 자기의 전송 트래픽 전송률을 제한하나?
	- 2. TCP 송신자는 어떻게 목적지간의 혼잡을 감지하나?
	- 3. TCP 송신자는 송신율 변화시키기 위해 어떤 알고리즘을 써야하나?

**전송률 제한 방법**
- 송신 측에서 동작하는 TCP 혼잡 제어 메커니즘은 추가적 변수인 **혼잡 윈도(congestion window)**를 추적한다.
- cwnd 로 표시됨
- `LastByteSent - LastByteAcked <= min(cwnd, rwnd)`

**혼잡 존재 감지하는 방법**
- 과도한 혼잡 발생 시 경로에 있는 하나 이상의 라우터 버퍼들이 오버플로되고, 그 결과(TCP가 포함된) 데이터그램이 버려짐
- 이 버려진걸로 손실 이벤트가 발생되니, 이걸로 혼잡 발생을 알아차림
- TCP는 확인응답을 혼잡 윈도 크기를 증가를 유발하는 트리거 or 클록 으로 쓴다.

TCP 송신자들은 가용한 대역폭 모두 쓰면서 네트워크를 혼잡시키지 않는 전송률을 어떻게 결정할 수 있을까?
- 손실된 세그먼트 == 혼잡, 따라서 TCP 전송률은 한 세그먼트를 손실했을 때 줄여야한다.
- 확인응답된 세그먼트는 수신자까지 성공적으로 도달했고 네트워크는 혼잡하지 않다는, 즉 모든 것이 좋다는 묵시적 표시로 받아들여진다. 따라서 혼잡 윈도 크기가 증가할 수 있다.
- 대역폭 탐색. TCP 송신자는 혼잡 발생하는 시점까지 전송률 증가시키고(전송률 탐색) 그 시점 이후 부터는 줄인뒤, 다시 혼잡이 되는지 보기위한 탐색을 시작한다.
- 네트워크에 의한 혼잡 상태는 어떠한 명시적 신호도 없다. ACK와 손실 이벤트는 묵시적 신호.

혼잡 제어 알고리즘은 다음과 같은 3가지 중요한 요소 갖는다.
1. 슬로 스타트
2. 혼잡 회피(congestion avoidance)
3. 빠른 회복(fast recovery)

1,2는 필수다.


### 슬로 스타트

80~

### 빠른 회복

### TCP 큐빅

### TCP 리노 처리율의 거시적 설명

## 3.7.2 네트워크 지원 명시적 혼잡 알림과 지연 기반 혼잡 제어

### 명시적 혼잡 알림

### 지역 기반 혼잡 제어


## 3.7.3 공평성
### 공평성과 UDP

### 공평성과 병렬 TCP 연결
