---
tags: 
created: 2025-08-25
---
> 16ê°• ë³µìŠµê°€ì¹˜ì¡´ì¬


ë²„í¼í’€ì— ë°ì´í„°ê°€ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤. ìˆë‹¤ë©´ ìºì‹œ íˆíŠ¸! ì—†ìœ¼ë©´ ë””ìŠ¤í¬ IO

3ê°€ì§€ ê³„ì¸µ êµ¬ì¡°
- ì—°ê²° ê³„ì¸µ
- SQL ê³„ì¸µ
- ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ê³„ì¸µ

ë¡œê·¸ ë²„í¼

FLUSH

ACIDë‹¬ë‹¬ ì™¸ìš°ê¸°ë³´ë‹¤ëŠ” ì €ëŠ” ì´ëŸ°ì‹ìœ¼ë¡œ ì„¤ëª…ë“œë¦´ê²Œìš”! í•˜ê³  ì£¼ì œë¥¼ ì„¤ëª…ì‰½ê²Œí•˜ëŠ”ê²Œ ì§„ì§œ ì•„ëŠ”ê²ƒì´ë‹¤.
![[[4.2] ìŠ¤í€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨.png]]
-- í…Œì´ë¸” ë½ : í…Œì´ë¸” ì „ì²´ì— ë½ì„ ê±´ë‹¤. 
-- ê°­ë½ : ì¸ë±ìŠ¤ì— ë²”ìœ„ ë½ì„ ê±´ë‹¤. 
-- Exclusive Lock : ë°ì´í„° ìˆ˜ì • ë½ 
-- ì½ê¸° ë½ : **ëª…ì‹œì ìœ¼ë¡œ ê±¸ì–´ì•¼** ì“°ì„.

MVCC: ë½ì˜ ì„±ëŠ¥ ì €í•˜ ë°©ì§€ ìœ„í•¨. **ì½ê¸° ì‘ì—…ì— ë½ì„ ì•ˆê±´ë‹¤**. ìŠ¤ëƒ…ìƒ·ìœ¼ë¡œ ì§€ì›. ë‹¤ë¥¸ íŠ¸ì­ì´ ìˆ˜ì •ì¤‘ì´ë¼ë” ê·¸ íŠ¸ì­ì€ ìŠ¤ëƒ…ìƒ·ì½ëŠ”ë‹¤.

---

ë²„í¼í’€ì€ **LRU** ì”€. ì¼ë¶€ íŠœë‹í•´ì„œ ì“´ë‹¤.

ì–´ëí‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤, change buffer, ì˜ˆì¸¡ ì½ê¸° -> MySQL ìµœì í™”í•˜ëŠ” ë‚´ë¶€ ê¸°ë²•


```sql
-- LRU : ê°€ì¥ ìµœê·¼ì— ì‚¬ìš©ë˜ì§€ ì•Šì€ ë°ì´í„°ë¥¼ ìš°ì„ ì ìœ¼ë¡œ ì œê±°í•˜ë©´ì„œ ë©”ëª¨ë¦¬ ê³µê°„ì„ í™•ë³´
-- 1. í’€ í…Œì´ë¸” ìŠ¤ìº”
-- 2. ì˜ˆì¸¡ ì½ê¸°

-- LRUë¥¼ ì¼ë¶€ ê°œì„ 
-- Minpoint : ìƒˆ í˜ì´ì§€ë¥¼ LRU ë¦¬ìŠ¤íŠ¸ì˜ ì¤‘ê°„ ì§€ì ì— ì‚½ì… , Old ì˜ì—­ê³¼ New ì˜ì—­


-- ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ : ìì£¼ ì‚¬ìš©ë˜ëŠ” ë°ì´í„° ì ‘ê·¼ì„ ë¹ ë¥´ê²Œ ì²˜ë¦¬

-- Change Buffer :

-- ì˜ˆì¸¡ ì½ê¸° : ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ì½ì–´ì˜¨ë‹¤. (Linear Read-Ahead) (Random Read-Ahead)


-- ë²„í¼ í’€ íˆíŠ¸ìœ¨ í™•ì¸í•˜ê¸° (95% ì´ìƒì´ë©´ ì¢‹ìŒ)
SELECT
    'ë²„í¼ í’€ ì„±ëŠ¥ ë¶„ì„' as ë¶„ì„í•­ëª©,
    bp_read_requests.VARIABLE_VALUE as ì „ì²´ìš”ì²­ìˆ˜,
    bp_reads.VARIABLE_VALUE as ë””ìŠ¤í¬ì½ê¸°ìˆ˜,
    ROUND(
            (1 - bp_reads.VARIABLE_VALUE / bp_read_requests.VARIABLE_VALUE) * 100, 2
    ) as íˆíŠ¸ìœ¨_í¼ì„¼íŠ¸,
    CASE
        WHEN (1 - bp_reads.VARIABLE_VALUE / bp_read_requests.VARIABLE_VALUE) * 100 >= 95
            THEN 'ğŸ‘ ë§¤ìš° ì¢‹ìŒ'
        WHEN (1 - bp_reads.VARIABLE_VALUE / bp_read_requests.VARIABLE_VALUE) * 100 >= 90
            THEN 'ğŸ˜Š ì–‘í˜¸'
        WHEN (1 - bp_reads.VARIABLE_VALUE / bp_read_requests.VARIABLE_VALUE) * 100 >= 80
            THEN 'ğŸ˜ ë³´í†µ'
        ELSE 'ğŸ˜± ê°œì„  í•„ìš”'
        END as ìƒíƒœ
FROM
    (SELECT VARIABLE_VALUE FROM performance_schema.global_status
     WHERE VARIABLE_NAME = 'Innodb_buffer_pool_reads') bp_reads,
    (SELECT VARIABLE_VALUE FROM performance_schema.global_status
     WHERE VARIABLE_NAME = 'Innodb_buffer_pool_read_requests') bp_read_requests;


-- í…Œì´ë¸” ë½ : í…Œì´ë¸” ì „ì²´ì— ë½ì„ ê±´ë‹¤.
-- ê°­ë½ : ì¸ë±ìŠ¤ì— ë²”ìœ„ ë½ì„ ê±´ë‹¤.
-- Exclusive Lock : ë°ì´í„° ìˆ˜ì • ë½
-- ì½ê¸° ë½ :
```